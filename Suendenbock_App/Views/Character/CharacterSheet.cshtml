@using Suendenbock_App.Models.Domain
@model Character
@section Styles {
    <link href="/css/antique-home.css" rel="stylesheet" />
    <link href="/css/character.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Uncial+Antiqua&family=Cinzel:wght@400;600&display=swap" rel="stylesheet">
}

<div class="steckbrief-container">
    <div class="steckbrief-title">Charakter</div>
    <h4 class="text-center mb-4" style="color: #6e4b1f;">📜 @Model.Vorname @Model.Nachname</h4>
    <div class="row mt-5">
        <div class="col-md-6">
            <p>Hier kommt die Erklärung zum Character</p>
        </div>
        <div class="col-md-6 text-center">
            <section class="character-scrolls">                            
                    <div class="character-scroll" data-tilt>
                        <div class="scroll-header">
                                @if (@Model.ImagePath == null)
                                {
                                    <!-- Zeigt die Initialen des Benutzers -->
                                    <div class="character-seal">@Model.Vorname.FirstOrDefault()@Model.Nachname.FirstOrDefault()</div>
                                }
                                else
                                {
                                    <img class="card-title" src="@Model.ImagePath" />
                                }
                        </div>
                        <div class="scroll-body">
                            <h4>@Model.Vorname @Model.Nachname</h4>
                            <p>
                                @Model.Geburtsdatum<br/>
                                @Model.Geschlecht<br/>
                                @Model.Eindruck.Name<br />
                                @Model.Lebensstatus.Name<br />
                                @Model.Affiliation?.Religion keine Reiligion<br />
                                @Model.Rasse.Name<br />

                            </p>
                        </div>                                
                    </div>
            </section>
        </div>   
    </div>            
    <!-- Magieklassen -->
    <div class="row mb-3">
        <label class="form-label">Magieklassen</label>
        <div class="card p-1">
            <div class="row">
                <section class="magic-section">
                    @Model.CharacterMagicClasses.Count
                @foreach(var magicclass in Model.CharacterMagicClasses)
                {
                    <div class="magic-grid">
                        Hallo @magicclass
                        <div class="magic-card @(magicclass.MagicClass?.Obermagie?.LightCard?.CssClass ?? "default")-hover" data-tilt>
                            <img src="@magicclass.MagicClass?.ImagePath" class="magic-icon" alt="@magicclass.MagicClass?.Bezeichnung" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div class="magic-icon-fallback" style="display:none;">🔮</div>

                            <div class="magic-name">@magicclass.MagicClass?.Bezeichnung</div>
                            <div class="magic-school">@(magicclass.MagicClass?.Obermagie?.Bezeichnung ?? "Unbekannt")</div>
                        </div>
                    </div>
                    }
                </section>                                    
            </div>
        </div>
    </div>

    <!-- Spezialisierungen -->
    <div class="row mb-3">
        <label class="form-label">Spezialisierungen</label>
        <div class="card p-3">
            <div class="row specializations-container">
                @Model.CharacterMagicClasses
            </div>
        </div>
    </div>
    <!-- Eltern-Dropdowns hinzufügen -->
    <div class="row">
        <!-- Vater-Dropdown -->
        <div class="col-md-6 mb-3">
            <label for="vaterId" class="form-label">Vater</label>
            @Model.Vater
        </div>
        <!-- Mutter-Dropdown -->
        <div class="col-md-6 mb-3">
            <label for="mutterId" class="form-label">Mutter</label>
            @Model.Mutter
        </div>
    </div>
</div>
